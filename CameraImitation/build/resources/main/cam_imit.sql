create table if not exists detector
(
    id                          bigserial
        constraint detector_pk
            primary key,
    name                        varchar(100) not null,
    next_cam_id                 bigint
        constraint detector_detector_id_fk
            references detector,
    place                       varchar(50),
    distance_from_next_detector integer
);

alter table detector
    owner to postgres;

create unique index if not exists detector_id_uindex
    on detector (id);

create table if not exists capture
(
    id           bigint generated by default as identity (maxvalue 2147483647)
        constraint capture_pkey
            primary key,
    time_stamp   timestamp,
    place        varchar(255),
    photo_url    varchar(500),
    plate_number varchar(255)
);

alter table capture
    owner to postgres;

create table if not exists capture_violation_ids
(
    capture_id    bigint not null
        constraint fkrg3e3tnrw3uibc0aj04emkmsp
            references capture,
    violation_ids bigint
);

alter table capture_violation_ids
    owner to postgres;

